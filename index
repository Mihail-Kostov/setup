#!/usr/bin/env zsh

# fonts
brewtap caskroom/fonts
brewcaskinstall font-fira-code
# brewcaskinstall font-fira-mono
# brewcaskinstall font-fira-sans

# browser
brewcaskinstall "FirefoxNightly" "firefox-nightly"
openifnot "FirefoxNightly"
setupsh-recipe firefox-user.js

## Ssh
setupsh-recipe ssh

## Zsh completion
brewinstall zsh-completions

# one keyboard/mouse for multiples machines
brewcaskinstall "Synergy"
setupsh-accessibility-privacy-apps --insert synergy

## Sync
brewcaskinstall syncthing
# https://github.com/caskroom/homebrew-cask/pull/17290
#brewcaskinstall qsyncthingtray
brewcaskinstall "BitTorrent Sync"
openifnot "BitTorrent Sync"

setupsh-recipe custom-folders

# messaging
brewcaskinstall Discord
brewcaskinstall Skype

## Development
setupsh-recipe git
brewcaskinstall atom
brewcaskinstall "GitHub Desktop"

### Node
setupsh-recipe nvm
nvm install node --reinstall-packages-from=node
nvm alias default node

# vm and shit
brewcaskinstall "VirtualBox"
brewinstall docker
brewinstall docker-compose
brewinstall docker-machine

## Some utilities
brewcaskinstall "Flux"
openifnot "Flux"
brewcaskinstall "iStat Menus"
openifnot "iStat Menus"

# Package helpers
#npmig npmpub
_cwd=$(pwd) && cd $DIR_DEV/npmpublish && npm link && cd $_cwd
#npmig github-release-from-changelog
_cwd=$(pwd) && cd $DIR_DEV/github-release-from-changelog && npm link && cd $_cwd
npmig npm-check
npmig updatehammer

# MAXIMUM SECURITY
brewcaskinstall "KeePassX"

if [ "$FIRSTRUN" = "true" ]; then osx-refresh; fi;

##
# Less important stuff
##
npmig github-labels

# safer than rm
npmig trash-cli

# image
brewcaskinstall imageoptim

# apps
brewcaskinstall "Prefs Editor"
brewcaskinstall "AppCleaner"

# up/download
brewcaskinstall "CloudApp" cloud
brewcaskinstall "Transmission"
brewcaskinstall "Cyberduck"

# multimedia
brewcaskinstall "MPlayerX"
brewcaskinstall "VLC"
brewcaskinstall "Last.fm" "lastfm"
brewcaskinstall "Jubler"

# Data/Disk related
brewcaskinstall "NameChanger"
brewcaskinstall "GrandPerspective"
brewcaskinstall "SuperDuper!" "superduper"

# VIDEO GAMES \o/
brewcaskinstall "Steam"

# MORE BROWSER
brewcaskinstall "/usr/local/bin/phantomjs" "phantomjs"
brewcaskinstall "Firefox"
brewcaskinstall "Google Chrome"
brewcaskinstall "/Library/Internet Plug-Ins/googletalkbrowserplugin.plugin" "google-hangouts"

##
# Stuff that are slow to download
# or that require human interaction
##
# dyndns
setupsh-recipe ddclient

# anti-thef
setupsh-recipe prey

# YEAH I USE THAT
brewcaskinstall "/Library/Java/JavaVirtualMachines" "java"
brewcaskinstall "LibreOffice"

# might be required http://software.intel.com/en-us/android/articles/intel-hardware-accelerated-execution-manager
# brewinstall android-sdk
#brewcaskinstall genymotion

if [[ $COMPUTER_NAME == "iMoOx" ]]
then
  # for my mouse
  brewcaskinstall "/Library/PreferencePanes/Logitech Control Center.prefPane" "logitech-control-center"
  brewcaskinstall "Utilities/Logitech Unifying Software" "logitech-unifying"

  # Better perf for non Apple SSD
  # at the end because need reboot
  #sudo trimforce enable
fi
